<!doctype html>
<html lang="pt-BR">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FSM em Haskell - ApresentaÃ§Ã£o</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reveal.js@4.6.1/dist/reset.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reveal.js@4.6.1/dist/reveal.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reveal.js@4.6.1/dist/theme/dracula.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reveal.js@4.6.1/plugin/highlight/monokai.css">
    <style>
        .reveal h1, .reveal h2, .reveal h3 { text-transform: none; }
        .reveal pre { font-size: 0.55em; }
        .reveal code { font-family: 'Fira Code', monospace; }
        .reveal table { font-size: 0.7em; }
        .reveal .highlight { color: #50fa7b; }
        .reveal .warning { color: #ffb86c; }
        .reveal ul { text-align: left; }
        .reveal section img { max-height: 400px; }
        .two-columns { display: flex; gap: 2em; }
        .two-columns > div { flex: 1; }
    </style>
</head>
<body>
    <div class="reveal">
        <div class="slides">
            
            <!-- Slide 1: TÃ­tulo -->
            <section>
                <h1>ğŸ”„ MÃ¡quinas de Estados Finitos</h1>
                <h3>em Haskell</h3>
                <p>Trabalho PrÃ¡tico - 6Âº Ciclo</p>
                <p><small>Arthur da Silva Leal</small></p>
                <p><small><a href="https://github.com/arthurdasilvaleal/TrabalhoHaskell">github.com/arthurdasilvaleal/TrabalhoHaskell</a></small></p>
            </section>

            <!-- Slide 2: O que Ã© FSM -->
            <section>
                <h2>O que Ã© uma FSM?</h2>
                <p><strong>MÃ¡quina de Estados Finitos</strong> Ã© um modelo matemÃ¡tico que:</p>
                <ul>
                    <li>Possui um <span class="highlight">nÃºmero finito de estados</span></li>
                    <li>EstÃ¡ em <span class="highlight">exatamente um estado</span> por vez</li>
                    <li>Muda de estado em resposta a <span class="highlight">entradas externas</span></li>
                    <li>Produz <span class="highlight">saÃ­das</span> baseadas nas transiÃ§Ãµes</li>
                </ul>
            </section>

            <!-- Slide 3: AplicaÃ§Ãµes -->
            <section>
                <h2>AplicaÃ§Ãµes no Mundo Real</h2>
                <div class="two-columns">
                    <div>
                        <ul>
                            <li>ğŸš¦ SemÃ¡foros de trÃ¢nsito</li>
                            <li>ğŸšª Portas automÃ¡ticas</li>
                            <li>ğŸ¥¤ MÃ¡quinas de venda</li>
                        </ul>
                    </div>
                    <div>
                        <ul>
                            <li>ğŸŒ Protocolos de rede</li>
                            <li>ğŸ® Jogos (NPCs)</li>
                            <li>ğŸ” AutenticaÃ§Ã£o</li>
                        </ul>
                    </div>
                </div>
            </section>

            <!-- Slide 4: Estrutura do Projeto -->
            <section>
                <h2>ğŸ“ Estrutura do Projeto</h2>
                <pre><code class="language-plaintext">fsm-haskell/
â”œâ”€â”€ src/
â”‚   â””â”€â”€ FSM.hs              â† Biblioteca genÃ©rica
â”œâ”€â”€ app/
â”‚   â””â”€â”€ Main.hs             â† Exemplos e testes
â”œâ”€â”€ diagram/
â”‚   â”œâ”€â”€ porta_automatica.dot/png
â”‚   â””â”€â”€ vending_machine.dot/png
â””â”€â”€ README.md</code></pre>
            </section>

            <!-- Slide 5: Tipo FSM -->
            <section>
                <h2>ğŸ§¬ O Tipo FSM</h2>
                <pre><code class="language-haskell">newtype FSM s i o = FSM { step :: s -> i -> (s, o) }</code></pre>
                <table>
                    <tr><td><code>s</code></td><td>â†’ tipo do <strong>estado</strong></td></tr>
                    <tr><td><code>i</code></td><td>â†’ tipo da <strong>entrada</strong></td></tr>
                    <tr><td><code>o</code></td><td>â†’ tipo da <strong>saÃ­da</strong></td></tr>
                </table>
                <p><small>Uma funÃ§Ã£o pura que recebe estado + entrada e retorna novo estado + saÃ­da</small></p>
            </section>

            <!-- Slide 6: FunÃ§Ãµes da Biblioteca -->
            <section>
                <h2>âš™ï¸ FunÃ§Ãµes DisponÃ­veis</h2>
                <table>
                    <thead>
                        <tr><th>FunÃ§Ã£o</th><th>DescriÃ§Ã£o</th></tr>
                    </thead>
                    <tbody>
                        <tr><td><code>step</code></td><td>Executa um passo da FSM</td></tr>
                        <tr><td><code>runFSM</code></td><td>Executa lista de entradas, retorna estado final</td></tr>
                        <tr><td><code>runFSMWithOutputs</code></td><td>Executa e coleta todos os estados/saÃ­das</td></tr>
                        <tr><td><code>composeFSMs</code></td><td>CompÃµe duas FSMs em paralelo</td></tr>
                    </tbody>
                </table>
            </section>

            <!-- Slide 7: Porta AutomÃ¡tica - Intro -->
            <section>
                <h2>ğŸšª Exemplo 1: Porta AutomÃ¡tica</h2>
                <div class="two-columns">
                    <div>
                        <h4>Estados:</h4>
                        <ul>
                            <li><code>Fechada</code></li>
                            <li><code>Abrindo</code></li>
                            <li><code>Aberta</code></li>
                            <li><code>Fechando</code></li>
                            <li><code>Bloqueada</code></li>
                        </ul>
                    </div>
                    <div>
                        <h4>Entradas:</h4>
                        <ul>
                            <li><code>Sensor</code> - detecta presenÃ§a</li>
                            <li><code>Timeout</code> - tempo expirado</li>
                            <li><code>Bloquear</code></li>
                            <li><code>Desbloquear</code></li>
                        </ul>
                    </div>
                </div>
            </section>

            <!-- Slide 8: Porta - Diagrama -->
            <section>
                <h2>ğŸšª Diagrama da Porta</h2>
                <img src="../diagram/porta_automatica.png" alt="Diagrama Porta AutomÃ¡tica">
            </section>

            <!-- Slide 9: Porta - CÃ³digo -->
            <section>
                <h2>ğŸšª CÃ³digo da Porta</h2>
                <pre><code class="language-haskell">portaAutomatica :: FSM PortaState PortaInput PortaOutput
portaAutomatica = FSM $ \s input -> case (s, input) of
  (_, Bloquear)           -> (Bloqueada, Status "Porta bloqueada")
  (Bloqueada, Desbloquear)-> (Fechada, Status "Desbloqueada")
  (Fechada, Sensor)       -> (Abrindo, Status "Abrindo porta")
  (Abrindo, Timeout)      -> (Aberta, Status "Porta aberta")
  (Aberta, Timeout)       -> (Fechando, Status "Fechando porta")
  (Aberta, Sensor)        -> (Aberta, Status "Mantendo aberta")
  (Fechando, Sensor)      -> (Abrindo, Status "Reabrindo!")
  (Fechando, Timeout)     -> (Fechada, Status "Porta fechada")
  (_, _)                  -> (s, Status "Sem alteraÃ§Ã£o")</code></pre>
            </section>

            <!-- Slide 10: MÃ¡quina de Venda - Intro -->
            <section>
                <h2>ğŸ¥¤ Exemplo 2: MÃ¡quina de Venda</h2>
                <div class="two-columns">
                    <div>
                        <h4>Estados:</h4>
                        <ul>
                            <li><code>SemCredito</code></li>
                            <li><code>ComCredito Int</code></li>
                        </ul>
                    </div>
                    <div>
                        <h4>Entradas:</h4>
                        <ul>
                            <li><code>InserirMoeda Int</code></li>
                            <li><code>Selecionar</code></li>
                            <li><code>Cancelar</code></li>
                        </ul>
                    </div>
                </div>
                <p><small>Custo do produto: <span class="highlight">2 unidades</span></small></p>
            </section>

            <!-- Slide 11: MÃ¡quina - Diagrama -->
            <section>
                <h2>ğŸ¥¤ Diagrama da MÃ¡quina</h2>
                <img src="../diagram/vending_machine.png" alt="Diagrama MÃ¡quina de Venda">
            </section>

            <!-- Slide 12: MÃ¡quina - CÃ³digo -->
            <section>
                <h2>ğŸ¥¤ CÃ³digo da MÃ¡quina</h2>
                <pre><code class="language-haskell">maquinaVenda :: FSM VMState VMInput VMOutput
maquinaVenda = FSM $ \s input -> case (s, input) of
  (SemCredito, InserirMoeda n)  -> 
    (ComCredito n, Mensagem $ "Inserido: " ++ show n)
  (ComCredito c, InserirMoeda n) -> 
    (ComCredito (c+n), Mensagem $ "Total: " ++ show (c+n))
  (ComCredito c, Selecionar) -> 
    if c >= 2
    then (SemCredito, Mensagem $ "Dispensado! Troco: " ++ show (c-2))
    else (ComCredito c, Mensagem "CrÃ©dito insuficiente")
  (ComCredito c, Cancelar) -> 
    (SemCredito, Mensagem $ "Devolvido: " ++ show c)
  (SemCredito, _) -> (SemCredito, Mensagem "Sem crÃ©dito")</code></pre>
            </section>

            <!-- Slide 13: ComposiÃ§Ã£o -->
            <section>
                <h2>ğŸ”— ComposiÃ§Ã£o de FSMs</h2>
                <pre><code class="language-haskell">composeFSMs :: FSM s1 i o1 -> FSM s2 i o2 
            -> FSM (s1, s2) i (o1, o2)</code></pre>
                <p>Executa <span class="highlight">duas FSMs em paralelo</span> com a mesma entrada!</p>
                <pre><code class="language-haskell">-- Exemplo: duas portas sincronizadas
let duasPortas = composeFSMs portaAutomatica portaAutomatica
    resultado = runFSMWithOutputs duasPortas 
                  (Fechada, Aberta) [Sensor, Timeout]</code></pre>
            </section>

            <!-- Slide 14: DemonstraÃ§Ã£o -->
            <section>
                <h2>â–¶ï¸ DemonstraÃ§Ã£o</h2>
                <pre><code class="language-plaintext">Porta AutomÃ¡tica (ciclo normal):
Inicial: Fechada
  â†’ Abrindo  | "Sensor detectado: Abrindo porta"
  â†’ Aberta   | "Porta totalmente aberta"
  â†’ Fechando | "Tempo expirado: Fechando porta"
  â†’ Fechada  | "Porta totalmente fechada"

MÃ¡quina de Venda:
Inicial: SemCredito
  â†’ ComCredito 1 | "Inserido: 1"
  â†’ ComCredito 2 | "Total inserido: 2"
  â†’ SemCredito   | "Dispensado. Troco: 0"</code></pre>
            </section>

            <!-- Slide 15: Testes -->
            <section>
                <h2>âœ… Testes Implementados</h2>
                <div class="two-columns">
                    <div>
                        <h4>Porta AutomÃ¡tica:</h4>
                        <ul>
                            <li>âœ… Ciclo normal</li>
                            <li>âœ… Sensor durante fechamento</li>
                            <li>âœ… Bloqueio/desbloqueio</li>
                            <li>âœ… MÃºltiplos sensores</li>
                        </ul>
                    </div>
                    <div>
                        <h4>MÃ¡quina de Venda:</h4>
                        <ul>
                            <li>âœ… Compra com crÃ©dito exato</li>
                            <li>âœ… Compra com troco</li>
                            <li>âœ… CrÃ©dito insuficiente</li>
                            <li>âœ… Cancelamento</li>
                        </ul>
                    </div>
                </div>
            </section>

            <!-- Slide 16: Por que Haskell -->
            <section>
                <h2>ğŸ¤” Por que Haskell?</h2>
                <div class="two-columns">
                    <div>
                        <h4 class="highlight">Vantagens:</h4>
                        <ul>
                            <li>FunÃ§Ã£o <code>step</code> Ã© pura</li>
                            <li>Tipos algÃ©bricos claros</li>
                            <li>Pattern matching legÃ­vel</li>
                            <li>ComposiÃ§Ã£o natural</li>
                            <li>Sem efeitos colaterais</li>
                        </ul>
                    </div>
                    <div>
                        <h4 class="warning">Desafios:</h4>
                        <ul>
                            <li>Curva de aprendizado</li>
                            <li>IO requer adaptaÃ§Ã£o</li>
                        </ul>
                    </div>
                </div>
            </section>

            <!-- Slide 17: Como Executar -->
            <section>
                <h2>ğŸ’» Como Executar</h2>
                <pre><code class="language-bash"># Clonar o repositÃ³rio
git clone https://github.com/arthurdasilvaleal/TrabalhoHaskell.git
cd TrabalhoHaskell/fsm-haskell

# Executar interpretado
runghc -isrc app/Main.hs

# Ou compilar
ghc -isrc app/Main.hs -o fsm-demo
./fsm-demo</code></pre>
            </section>

            <!-- Slide 18: ExtensÃµes -->
            <section>
                <h2>ğŸš€ ExtensÃµes PossÃ­veis</h2>
                <ul>
                    <li>Transformar em <strong>State Monad</strong> para integrar IO</li>
                    <li>Adicionar <strong>validaÃ§Ã£o</strong> de transiÃ§Ãµes</li>
                    <li><strong>SerializaÃ§Ã£o</strong> - salvar/carregar estado</li>
                    <li><strong>GUI</strong> para visualizaÃ§Ã£o em tempo real</li>
                    <li>Mais FSMs: elevador, protocolo TCP, etc.</li>
                </ul>
            </section>

            <!-- Slide 19: ConclusÃ£o -->
            <section>
                <h2>ğŸ“Œ ConclusÃ£o</h2>
                <ul>
                    <li>FSMs sÃ£o um <span class="highlight">modelo poderoso</span> para sistemas reativos</li>
                    <li>Haskell oferece <span class="highlight">expressividade</span> ideal</li>
                    <li>Demonstramos <span class="highlight">dois exemplos prÃ¡ticos</span></li>
                    <li><span class="highlight">ComposiÃ§Ã£o</span> permite sistemas complexos</li>
                    <li><span class="highlight">Testes</span> garantem comportamento correto</li>
                </ul>
            </section>

            <!-- Slide 20: Obrigado -->
            <section>
                <h1>Obrigado! ğŸ‰</h1>
                <p>Perguntas?</p>
                <br>
                <p><a href="https://github.com/arthurdasilvaleal/TrabalhoHaskell">
                    github.com/arthurdasilvaleal/TrabalhoHaskell
                </a></p>
            </section>

        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/reveal.js@4.6.1/dist/reveal.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/reveal.js@4.6.1/plugin/highlight/highlight.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/reveal.js@4.6.1/plugin/notes/notes.js"></script>
    <script>
        Reveal.initialize({
            hash: true,
            slideNumber: true,
            transition: 'slide',
            plugins: [ RevealHighlight, RevealNotes ]
        });
    </script>
</body>
</html>
